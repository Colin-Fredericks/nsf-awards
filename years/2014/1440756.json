{
 "awd_id": "1440756",
 "agcy_id": "NSF",
 "tran_type": "Grant",
 "awd_istr_txt": "Standard Grant",
 "awd_titl_txt": "SI2-SSE: An Active File System for Processing and Sharing Petascale Multi-Dimentional Datasets",
 "cfda_num": "47.070",
 "org_code": "05090000",
 "po_phone": "7032922656",
 "po_email": "vchandol@nsf.gov",
 "po_sign_block_name": "Varun Chandola",
 "awd_eff_date": "2014-09-01",
 "awd_exp_date": "2018-08-31",
 "tot_intn_awd_amt": 500000.0,
 "awd_amount": 500000.0,
 "awd_min_amd_letter_date": "2014-08-08",
 "awd_max_amd_letter_date": "2014-08-08",
 "awd_abstract_narration": "Data sets in diverse areas such as biology, engineering, or astronomy routinely reach terabyte scales and are expected to grow to petabytes within the next few years. Typical examples include time series measurement or multidimensional volumetric data sets. Due to their rapidly increasing size, these data present severe limitations for data storage, transmission, and processing, and will thus become serious bottlenecks for analysis pipelines and collaborative data analysis.  New approaches and frameworks are needed to enable the timely and cost effictive analyses at next generation data scales. The Active Data Processing and Transformation File System (ADAPT FS) combines efficient storage of original data with on-the-fly processing to enable collaborative processing and sharing of scientific datasets at the largest scales with minimal data duplication and latency. The remote access will leverage PSC's SLASH2 distributed filesystem and be extended to provide visualization. ADAPT-FS processing will enable easy access to leading-edge scientific datasets for teaching and training at institutions of all sizes.\r\n\r\nADAPT-FS provides a FUSE based file system interface allowing seamless use from programs or web servers. The guiding principles behind ADAPT-FS are to: 1) eliminate unwanted data duplication; 2) minimize data transfer by working directly from original data when possible; 3) minimize delays between data capture and end-user analyses; and 4) provide a flexible workflow which incorporates active computation. The latter aspect enables improved parallel I/O performance by exploiting untapped CPU and GPU power on the nodes of large data servers. We will provide ADAPT-FS as open source, including a flexible and well-documented API and a plug-in framework enabling users to insert their own GPU and CPU codes into the data pipeline to extend and customize its data processing capabilities.  Thus, ADAPT-FS will provide a critical technology to tackle the next generation of massive data intensive processing, allowing efficient and rapid analysis of petabytes size data sets with minimal data duplication in a collaborative multi-site framework.",
 "awd_arra_amount": 0.0,
 "dir_abbr": "CSE",
 "org_dir_long_name": "Directorate for Computer and Information Science and Engineering",
 "div_abbr": "OAC",
 "org_div_long_name": "Office of Advanced Cyberinfrastructure (OAC)",
 "awd_agcy_code": "4900",
 "fund_agcy_code": "4900",
 "pi": [
  {
   "pi_role": "Principal Investigator",
   "pi_first_name": "Arthur",
   "pi_last_name": "Wetzel",
   "pi_mid_init": "W",
   "pi_sufx_name": "",
   "pi_full_name": "Arthur W Wetzel",
   "pi_email_addr": "awetzel@psc.edu",
   "nsf_id": "000221377",
   "pi_start_date": "2014-08-08",
   "pi_end_date": null
  }
 ],
 "inst": {
  "inst_name": "Carnegie-Mellon University",
  "inst_street_address": "5000 FORBES AVE",
  "inst_street_address_2": "",
  "inst_city_name": "PITTSBURGH",
  "inst_state_code": "PA",
  "inst_state_name": "Pennsylvania",
  "inst_phone_num": "4122688746",
  "inst_zip_code": "152133815",
  "inst_country_name": "United States",
  "cong_dist_code": "12",
  "st_cong_dist_code": "PA12",
  "org_lgl_bus_name": "CARNEGIE MELLON UNIVERSITY",
  "org_prnt_uei_num": "U3NKNFLNQ613",
  "org_uei_num": "U3NKNFLNQ613"
 },
 "perf_inst": {
  "perf_inst_name": "Carnegie-Mellon University",
  "perf_str_addr": "",
  "perf_city_name": "",
  "perf_st_code": "PA",
  "perf_st_name": "Pennsylvania",
  "perf_zip_code": "152133815",
  "perf_ctry_code": "US",
  "perf_cong_dist": "12",
  "perf_st_cong_dist": "PA12",
  "perf_ctry_name": "United States",
  "perf_ctry_flag": "1"
 },
 "pgm_ele": [
  {
   "pgm_ele_code": "116500",
   "pgm_ele_name": "ADVANCES IN BIO INFORMATICS"
  },
  {
   "pgm_ele_code": "287800",
   "pgm_ele_name": "Special Projects - CCF"
  },
  {
   "pgm_ele_code": "800400",
   "pgm_ele_name": "Software Institutes"
  }
 ],
 "pgm_ref": [
  {
   "pgm_ref_code": "1165",
   "pgm_ref_txt": "ADVANCES IN BIO INFORMATICS"
  },
  {
   "pgm_ref_code": "2878",
   "pgm_ref_txt": "SPECIAL PROJECTS - CCF"
  },
  {
   "pgm_ref_code": "7433",
   "pgm_ref_txt": "CyberInfra Frmwrk 21st (CIF21)"
  },
  {
   "pgm_ref_code": "8004",
   "pgm_ref_txt": "Software Institutes"
  },
  {
   "pgm_ref_code": "8005",
   "pgm_ref_txt": "Scientific Software Elements"
  }
 ],
 "app_fund": [
  {
   "app_code": "0114",
   "app_name": "NSF RESEARCH & RELATED ACTIVIT",
   "app_symb_id": "040100",
   "fund_code": "01001415DB",
   "fund_name": "NSF RESEARCH & RELATED ACTIVIT",
   "fund_symb_id": "040100"
  }
 ],
 "oblg_fy": [
  {
   "fund_oblg_fiscal_yr": 2014,
   "fund_oblg_amt": 500000.0
  }
 ],
 "por": {
  "por_cntn": "<div class=\"porColContainerWBG\">\n<div class=\"porContentCol\"><p>This work has investigated and implemented techniques using file operations, particularly open and read, to access dynamic \"virtual\" files rather than conventional static files. The term virtual indicates that specific content is generated when requested by applications as a result of their normal file operations. This is analogous to dynamic web content but brings the power and flexibility of dynamic content to programs which access files locally rather than over the web. In fact, ADAPT-FS can be used to supplement&nbsp; Web methods using PHP or CGI codes. Our approach encompases the range of platforms from laptops to supercomputing clusters. Appropriate adaptations to&nbsp; meet performance requirements across common system configurations and applications while providing efficient data storage and flexible workflows. A primary motivation has been access to 3D volumetric data. We use the name Virtual Volume Filesystem (VVFS) interchangeably with ADAPT-FS in that context.<br /><br />The implementation applies FUSE (File System in User Space) mechanisms to intercept user program operations and replace their normal functions by user specified on-the-fly computations to generate customized virtual file contents. This method operates by mounting the virtual filesystem allowing seamless access to virtual content by unmodified system and user applications. Conceptually this is similar to mounting an external disk&nbsp; except that the ADAPT-FS/VVFS files are dynamic transformations of underlying data such as optical or electron microscopy image sets. Options to control virtual content generation are given as part of the name when a file is opened. This is similar to the way options are embedded in URLs for dynamic web applications. Although the implementation of FUSE operations and the virtual extensions are written in C, end user applications and content generation programs may be written in any language. Since FUSE and C are available across Linux, macOS, and Windows WSL2 the central ADAPT-FS codes are also portable across those platforms.<br /><br />Rather than coding from scratch the widely available \"bindfs\" program is used to provide the overall FUSE interface and the required virtual file extensions are written as routines which are compiled and linked with bindfs and other filesystem frameworks. This allows the use of the original bindfs functionality together with the new virtual file extensions.<br /><br />Several methods are used to generate virtual file content. The simplest is to execute external programs to generate the required file content. These programs may be either user written or, more commonly, are existing programs that were written to use conventional file interfaces. This method has the performance overhead of executing the external program and also requires a means to pass back results to the FUSE code. This is generally done using command arguments in conjunction with pipes and shared memory. The execution overhead can be reduced with programs that can operate in a batch server mode to accept requests from the FUSE codes and return results through shared memory or named pipes. For example the well known and portable ImageMagik and GraphicsMagic programs each provide a large number of facilities that are useful for generating image based virtual file contents. However, GraphicsMagic includes a batch mode to accept commands from an input pipe while ImageMagick operates as a number of separate command line programs which are typically used individually with appropriate intermediate and temporary files. Therefore, in addition to its generally faster execution, GraphicsMagic reduces the operational overhead of virtual file processing.<br /><br />The FUSE mechanism generally incurs a reduction of bandwidth compared to kernel based filesystems. These reductions can be overcome by running multiple bindfs mounts in parallel. Execution timings show that a number of mounts equal to the number of compute cores gives the best performance. On a 72 core shared memory system at PSC this approach matches the aggregate bandwidth of its high performance NVMe storage up to 9 GBytes/sec.<br /><br />Our most important applications are 3D reconstruction of the brain and other structures from optical and electron microscopy. Datasets are typically multiple TeraVoxels up to PetaVoxels. These data require efficient 3D random access&nbsp; for visualization and analysis. This is performance limiting with systems based on rotating disk storage. Performance is improved by using chunking methods as we had done previously with NLM Visible Human data and have now revised and made more compatible with zarr and other recent 3D formats. However, direct implementations of zarr's key value as millions of small disk files suffer severe access limitations. The VVFS storage of equivalent data greatly improves speed by logically chunking and compressing into larger files and providing fine grained random access within files. The VVFS flexibility also allows multiple forms of virtual output such as arbitrary 3D blocks and 2D cut-planes. This capability is in pilot use with NSF NeuroNex datasets in collaboration with the Salk Institute and TACC project teams and will be part of the public source code at https://3dem.org/.</p>\n<p>&nbsp;</p><br>\n<p>\n\t\t\t\t      \tLast Modified: 09/12/2022<br>\n\t\t\t\t\tModified by: Arthur&nbsp;W&nbsp;Wetzel</p>\n</div>\n<div class=\"porSideCol\"></div>\n</div>",
  "por_txt_cntn": "\nThis work has investigated and implemented techniques using file operations, particularly open and read, to access dynamic \"virtual\" files rather than conventional static files. The term virtual indicates that specific content is generated when requested by applications as a result of their normal file operations. This is analogous to dynamic web content but brings the power and flexibility of dynamic content to programs which access files locally rather than over the web. In fact, ADAPT-FS can be used to supplement  Web methods using PHP or CGI codes. Our approach encompases the range of platforms from laptops to supercomputing clusters. Appropriate adaptations to  meet performance requirements across common system configurations and applications while providing efficient data storage and flexible workflows. A primary motivation has been access to 3D volumetric data. We use the name Virtual Volume Filesystem (VVFS) interchangeably with ADAPT-FS in that context.\n\nThe implementation applies FUSE (File System in User Space) mechanisms to intercept user program operations and replace their normal functions by user specified on-the-fly computations to generate customized virtual file contents. This method operates by mounting the virtual filesystem allowing seamless access to virtual content by unmodified system and user applications. Conceptually this is similar to mounting an external disk  except that the ADAPT-FS/VVFS files are dynamic transformations of underlying data such as optical or electron microscopy image sets. Options to control virtual content generation are given as part of the name when a file is opened. This is similar to the way options are embedded in URLs for dynamic web applications. Although the implementation of FUSE operations and the virtual extensions are written in C, end user applications and content generation programs may be written in any language. Since FUSE and C are available across Linux, macOS, and Windows WSL2 the central ADAPT-FS codes are also portable across those platforms.\n\nRather than coding from scratch the widely available \"bindfs\" program is used to provide the overall FUSE interface and the required virtual file extensions are written as routines which are compiled and linked with bindfs and other filesystem frameworks. This allows the use of the original bindfs functionality together with the new virtual file extensions.\n\nSeveral methods are used to generate virtual file content. The simplest is to execute external programs to generate the required file content. These programs may be either user written or, more commonly, are existing programs that were written to use conventional file interfaces. This method has the performance overhead of executing the external program and also requires a means to pass back results to the FUSE code. This is generally done using command arguments in conjunction with pipes and shared memory. The execution overhead can be reduced with programs that can operate in a batch server mode to accept requests from the FUSE codes and return results through shared memory or named pipes. For example the well known and portable ImageMagik and GraphicsMagic programs each provide a large number of facilities that are useful for generating image based virtual file contents. However, GraphicsMagic includes a batch mode to accept commands from an input pipe while ImageMagick operates as a number of separate command line programs which are typically used individually with appropriate intermediate and temporary files. Therefore, in addition to its generally faster execution, GraphicsMagic reduces the operational overhead of virtual file processing.\n\nThe FUSE mechanism generally incurs a reduction of bandwidth compared to kernel based filesystems. These reductions can be overcome by running multiple bindfs mounts in parallel. Execution timings show that a number of mounts equal to the number of compute cores gives the best performance. On a 72 core shared memory system at PSC this approach matches the aggregate bandwidth of its high performance NVMe storage up to 9 GBytes/sec.\n\nOur most important applications are 3D reconstruction of the brain and other structures from optical and electron microscopy. Datasets are typically multiple TeraVoxels up to PetaVoxels. These data require efficient 3D random access  for visualization and analysis. This is performance limiting with systems based on rotating disk storage. Performance is improved by using chunking methods as we had done previously with NLM Visible Human data and have now revised and made more compatible with zarr and other recent 3D formats. However, direct implementations of zarr's key value as millions of small disk files suffer severe access limitations. The VVFS storage of equivalent data greatly improves speed by logically chunking and compressing into larger files and providing fine grained random access within files. The VVFS flexibility also allows multiple forms of virtual output such as arbitrary 3D blocks and 2D cut-planes. This capability is in pilot use with NSF NeuroNex datasets in collaboration with the Salk Institute and TACC project teams and will be part of the public source code at https://3dem.org/.\n\n \n\n\t\t\t\t\tLast Modified: 09/12/2022\n\n\t\t\t\t\tSubmitted by: Arthur W Wetzel"
 }
}