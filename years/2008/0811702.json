{
 "awd_id": "0811702",
 "agcy_id": "NSF",
 "tran_type": "Grant",
 "awd_istr_txt": "Standard Grant",
 "awd_titl_txt": "CPA-CSA:   Accelerating Architectural-level, Full-system Multiprocessor Simulations using FPGAs",
 "cfda_num": "47.070",
 "org_code": "05010000",
 "po_phone": null,
 "po_email": "",
 "po_sign_block_name": "Ahmed Louri",
 "awd_eff_date": "2008-07-15",
 "awd_exp_date": "2012-06-30",
 "tot_intn_awd_amt": 300000.0,
 "awd_amount": 314000.0,
 "awd_min_amd_letter_date": "2008-06-17",
 "awd_max_amd_letter_date": "2010-05-21",
 "awd_abstract_narration": "\r\nThe programmability challenges to general-purpose parallel computing desperately need computer hardware and software researchers to work together on the solutions. However, the unacceptably slow speed of current full-system simulators limits the multiprocessor/multi-core research.\r\n\r\nThe proposed ProtoFlex project develops an FPGA-accelerated simulation technology to deliver the necessary simulation performance to enable full-scale software research on top of simulated experimental architectures. ProtoFlex simulators are not FPGA prototypes. The ProtoFlex simulation architecture relies on hardware virtualization to achieve full-system fidelity and system scalability, while mitigating the complexities associated with conventional FPGA prototyping.  This project will develop a hybrid simulation with transplanting and with interleaving of multiple processor contexts, with the goal to decouple the required complexity of the hardware construction from the complexity of a very large target multiprocessor system.  This project will also investigate in-hardware techniques for real-time, deep instrumentation and analysis of simulation events.   \r\n\r\n",
 "awd_arra_amount": 0.0,
 "dir_abbr": "CSE",
 "org_dir_long_name": "Directorate for Computer and Information Science and Engineering",
 "div_abbr": "CCF",
 "org_div_long_name": "Division of Computing and Communication Foundations",
 "awd_agcy_code": "4900",
 "fund_agcy_code": "4900",
 "pi": [
  {
   "pi_role": "Principal Investigator",
   "pi_first_name": "James",
   "pi_last_name": "Hoe",
   "pi_mid_init": "",
   "pi_sufx_name": "",
   "pi_full_name": "James Hoe",
   "pi_email_addr": "jhoe@cmu.edu",
   "nsf_id": "000464902",
   "pi_start_date": "2008-06-17",
   "pi_end_date": null
  }
 ],
 "inst": {
  "inst_name": "Carnegie-Mellon University",
  "inst_street_address": "5000 FORBES AVE",
  "inst_street_address_2": "",
  "inst_city_name": "PITTSBURGH",
  "inst_state_code": "PA",
  "inst_state_name": "Pennsylvania",
  "inst_phone_num": "4122688746",
  "inst_zip_code": "152133815",
  "inst_country_name": "United States",
  "cong_dist_code": "12",
  "st_cong_dist_code": "PA12",
  "org_lgl_bus_name": "CARNEGIE MELLON UNIVERSITY",
  "org_prnt_uei_num": "U3NKNFLNQ613",
  "org_uei_num": "U3NKNFLNQ613"
 },
 "perf_inst": {
  "perf_inst_name": "Carnegie-Mellon University",
  "perf_str_addr": "5000 FORBES AVE",
  "perf_city_name": "PITTSBURGH",
  "perf_st_code": "PA",
  "perf_st_name": "Pennsylvania",
  "perf_zip_code": "152133815",
  "perf_ctry_code": "US",
  "perf_cong_dist": "12",
  "perf_st_cong_dist": "PA12",
  "perf_ctry_name": "",
  "perf_ctry_flag": "1"
 },
 "pgm_ele": [
  {
   "pgm_ele_code": "471500",
   "pgm_ele_name": "COMPUTER SYSTEMS ARCHITECTURE"
  },
  {
   "pgm_ele_code": "779800",
   "pgm_ele_name": "Software & Hardware Foundation"
  },
  {
   "pgm_ele_code": "794100",
   "pgm_ele_name": "COMPUTER ARCHITECTURE"
  }
 ],
 "pgm_ref": [
  {
   "pgm_ref_code": "9218",
   "pgm_ref_txt": "BASIC RESEARCH & HUMAN RESORCS"
  },
  {
   "pgm_ref_code": "9251",
   "pgm_ref_txt": "REU SUPP-Res Exp for Ugrd Supp"
  },
  {
   "pgm_ref_code": "HPCC",
   "pgm_ref_txt": "HIGH PERFORMANCE COMPUTING & COMM"
  }
 ],
 "app_fund": [
  {
   "app_code": "0108",
   "app_name": "NSF RESEARCH & RELATED ACTIVIT",
   "app_symb_id": "040100",
   "fund_code": "01000809DB",
   "fund_name": "NSF RESEARCH & RELATED ACTIVIT",
   "fund_symb_id": "040100"
  },
  {
   "app_code": "0109",
   "app_name": "NSF RESEARCH & RELATED ACTIVIT",
   "app_symb_id": "040100",
   "fund_code": "01000910DB",
   "fund_name": "NSF RESEARCH & RELATED ACTIVIT",
   "fund_symb_id": "040100"
  },
  {
   "app_code": "0110",
   "app_name": "NSF RESEARCH & RELATED ACTIVIT",
   "app_symb_id": "040100",
   "fund_code": "01001011DB",
   "fund_name": "NSF RESEARCH & RELATED ACTIVIT",
   "fund_symb_id": "040100"
  }
 ],
 "oblg_fy": [
  {
   "fund_oblg_fiscal_yr": 2008,
   "fund_oblg_amt": 300000.0
  },
  {
   "fund_oblg_fiscal_yr": 2009,
   "fund_oblg_amt": 6000.0
  },
  {
   "fund_oblg_fiscal_yr": 2010,
   "fund_oblg_amt": 8000.0
  }
 ],
 "por": {
  "por_cntn": "<div class=\"porColContainerWBG\">\n<div class=\"porContentCol\"><p><strong>Background</strong></p>\n<p>In the ProtoFlex project, we developed a practical approach to accelerate the simulation of a multicore processor using FPGAs. The ProtoFlex approach centers on the concept of &lsquo;virtualization&rsquo; to decouple the complexity of the emulated multicore target from the implementation complexity of its FPGA-accelerated simulator. &nbsp;In the current effort presented below, we extended the ProtoFlex approach by expanding our simulation capabilities and addressing new challenges in simulating the &ldquo;uncore&rdquo; portion of the multicore.&nbsp;</p>\n<p><strong>Instrumenting FPGA-based Simulations&nbsp;[CPN09]</strong></p>\n<p>The ProtoFlex simulation architecture offers significant advantages over conventional software-based simulation tools when high performance fine-grain instrumentation is necessary.&nbsp; While conventional software-based full-system simulators suffers dramatic slowdowns (of up to 10x or more), FPGAs offer a parallel substrate for carrying out such monitoring activity with minimal interference to the instruction execution performance.&nbsp;</p>\n<p>We developed new monitoring tools on top of the baseline ProtoFlex FPGA-accelerated simulator (which models a 16-way UltraSPARC III symmetric multiprocessor server on a single FPGA). The first form of instrumentation provides computer architects with the means to simulate realistic CMP functional cache configurations for the purposes of performance monitoring. In addition, such tool can also be used to provide checkpointing of state for accelerated sampling-based cycle-accurate simulations.&nbsp; We demonstrated that such instrumentation can be carried out at very high speeds with minimal impact on the baseline simulator performance (less than 10% overhead).</p>\n<p><strong>Accelerating Network-on-Chip Simulation&nbsp;&nbsp;[PHO11]</strong></p>\n<p>We developed an FPGA-accelerated uncore simulation framework to be used in conjunction with the ProtoFlex core models to support uncore design evaluation and exploration using realistic full-system application workloads. We have investigated a new hybrid analytical network-on-chip (NoC) simulation approach that delivers a desired level of accuracy at a high throughput and low implementation cost.</p>\n<p>At an abstract level, any type of interconnection network, regardless of topology, can be decomposed into a set of routers that are connected by a set of links. At this abstract level, all buffering and logic within the network is contained inside the network router, which can be viewed as a black box with a set of input and output ports. &nbsp; We borrow an idea from analytical network modeling where for a given configuration and traffic pattern, each network router is modeled only as a set of delay-load curves. These delay-load curves, obtained by off-line training using a high-fidelity software-based network simulator, relate the injection load at the input ports of a network router against the average latency of a packet going through this router. After a packet is injected at the edge of the network, it is processed by routing logic that determines which routers are traversed by this packet.&nbsp; The affected routers are updated to reflect the increased load caused by this packet.&nbsp; The packet is assigned a network latency by summing up the estimated delays returned by the affected routers.&nbsp;</p>\n<p>We have been able to obtain good correspondence between this analytical approach and a traditional high-fidelity network simulation in determining packet latency and network hotspots under different loads and traffic patterns.&nbsp; We have implemented both software and FPGA-accelerated versions of this hybrid analytical simulation model.&nbsp; We have shown by experimentation that the performance and accuracy of this hybrid analytical NoC simulation is very suitable for supporting system-level multicore performa...",
  "por_txt_cntn": "\nBackground\n\nIn the ProtoFlex project, we developed a practical approach to accelerate the simulation of a multicore processor using FPGAs. The ProtoFlex approach centers on the concept of \u00e6virtualization\u00c6 to decouple the complexity of the emulated multicore target from the implementation complexity of its FPGA-accelerated simulator.  In the current effort presented below, we extended the ProtoFlex approach by expanding our simulation capabilities and addressing new challenges in simulating the \"uncore\" portion of the multicore. \n\nInstrumenting FPGA-based Simulations [CPN09]\n\nThe ProtoFlex simulation architecture offers significant advantages over conventional software-based simulation tools when high performance fine-grain instrumentation is necessary.  While conventional software-based full-system simulators suffers dramatic slowdowns (of up to 10x or more), FPGAs offer a parallel substrate for carrying out such monitoring activity with minimal interference to the instruction execution performance. \n\nWe developed new monitoring tools on top of the baseline ProtoFlex FPGA-accelerated simulator (which models a 16-way UltraSPARC III symmetric multiprocessor server on a single FPGA). The first form of instrumentation provides computer architects with the means to simulate realistic CMP functional cache configurations for the purposes of performance monitoring. In addition, such tool can also be used to provide checkpointing of state for accelerated sampling-based cycle-accurate simulations.  We demonstrated that such instrumentation can be carried out at very high speeds with minimal impact on the baseline simulator performance (less than 10% overhead).\n\nAccelerating Network-on-Chip Simulation  [PHO11]\n\nWe developed an FPGA-accelerated uncore simulation framework to be used in conjunction with the ProtoFlex core models to support uncore design evaluation and exploration using realistic full-system application workloads. We have investigated a new hybrid analytical network-on-chip (NoC) simulation approach that delivers a desired level of accuracy at a high throughput and low implementation cost.\n\nAt an abstract level, any type of interconnection network, regardless of topology, can be decomposed into a set of routers that are connected by a set of links. At this abstract level, all buffering and logic within the network is contained inside the network router, which can be viewed as a black box with a set of input and output ports.   We borrow an idea from analytical network modeling where for a given configuration and traffic pattern, each network router is modeled only as a set of delay-load curves. These delay-load curves, obtained by off-line training using a high-fidelity software-based network simulator, relate the injection load at the input ports of a network router against the average latency of a packet going through this router. After a packet is injected at the edge of the network, it is processed by routing logic that determines which routers are traversed by this packet.  The affected routers are updated to reflect the increased load caused by this packet.  The packet is assigned a network latency by summing up the estimated delays returned by the affected routers. \n\nWe have been able to obtain good correspondence between this analytical approach and a traditional high-fidelity network simulation in determining packet latency and network hotspots under different loads and traffic patterns.  We have implemented both software and FPGA-accelerated versions of this hybrid analytical simulation model.  We have shown by experimentation that the performance and accuracy of this hybrid analytical NoC simulation is very suitable for supporting system-level multicore performance studies.\n\nCycle-Accurate NoC Models for FPGA Accelerated Simulation [Pap11]\n\nIn addition to the hybrid analytical model above, we developed a parameterized generator of register-transfer-level NoC models that can be synthesized for FPGA-accelerated cy..."
 }
}